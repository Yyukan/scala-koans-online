<script type="text/ng-template" id="customTemplate.html">
  <a>
      <span bind-html-unsafe="match.name | typeaheadHighlight:query"></span>
  </a>
</script>

<!-- TODO move out partially from here later to the main view -->
<nav class="navbar navbar-inverse navbar-fixed-top background-main"
	role="navigation">
	<div class="navbar-header">
		<a class="navbar-brand" href="/ng">Scala Koans Online</a>
	</div>
	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

		<ul class="nav navbar-nav">
			<li class="dropdown"><a href class="dropdown-toggle"
				data-toggle="dropdown">{{selectedSuite.name}}<b class="caret"></b>
			</a>
				<ul id="suites" class="dropdown-menu scrollable-menu" role="menu">
					<li ng-repeat='suite in suites'
						ng-class='{disabled:suite.selected}'><a href
						ng-click="selectSuite(suite)">{{suite.name}}</a></li>
				</ul></li>
		</ul>

		<p class="navbar-right navbar-text">Signed in as SK&nbsp;&nbsp;</p>

		<div class="col-sm-3 col-md-3 pull-right">
			<form ng-submit="search()" class="navbar-form navbar-right"
				role="search">
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search Suites"
						ng-model="searchedSuite"
						typeahead-template-url="customTemplate.html"
						typeahead="suite as suite.name for suite in suites | filter:$viewValue | limitTo:8">
					<div class="input-group-btn">
						<button class="btn btn-success" type="submit">
							<i class="glyphicon glyphicon-search"></i>
						</button>
					</div>
				</div>
			</form>
		</div>

	</div>
</nav>


<div class='container'>
	<div class='btn-toolbar' role='toolbar'>
		<div class='btn-group'>
			<button type="button" id="prevKoan"
				ng-class="{disabled:koan.isFirst}"
				class="btn btn-primary navbar-btn" tooltip-placement="bottom"
				tooltip="Previous Koan" ng-click="koan.prev()">
				<span class="glyphicon glyphicon-chevron-left"></span>
			</button>
			<button type="button" id="nextKoan" ng-class="{disabled:koan.isLast}"
				class="btn btn-primary navbar-btn" tooltip-placement="bottom"
				tooltip="Next Koan" ng-click="koan.next()">
				<span class="glyphicon glyphicon-chevron-right"></span>
			</button>
		</div>
		<button id="compile" type="button" class="btn btn-success navbar-btn"
			tooltip-placement="bottom" tooltip="Execute Koan"
			ng-click="koan.compile()">
			<span class="glyphicon glyphicon-expand"></span>
		</button>
	</div>
</div>

<div id="console" ng-bind-html="consoleText"></div>

<div id="editor-container">
	<pre id="editor"></pre>
</div>